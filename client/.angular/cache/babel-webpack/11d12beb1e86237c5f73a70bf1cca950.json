{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild, HostListener } from '@angular/core';\nimport { take } from 'rxjs/operators';\nlet MemberEditComponent = class MemberEditComponent {\n  constructor(accountService, memberService, toastr) {\n    this.accountService = accountService;\n    this.memberService = memberService;\n    this.toastr = toastr;\n    this.accountService.currentUser$.pipe(take(1)).subscribe(user => this.user = user);\n  }\n\n  unloadNotification($event) {\n    if (this.editForm.dirty) {\n      $event.returnValue = true;\n    }\n  }\n\n  ngOnInit() {\n    this.loadMember();\n  }\n\n  loadMember() {\n    this.memberService.getMember(this.user.username).subscribe(member => {\n      this.member = member;\n    });\n  }\n\n  updateMember() {\n    this.memberService.updateMember(this.member).subscribe(() => {\n      this.toastr.success('Profile updated successfully');\n      this.editForm.reset(this.member);\n    });\n  }\n\n};\n\n__decorate([ViewChild('editForm')], MemberEditComponent.prototype, \"editForm\", void 0);\n\n__decorate([HostListener('window:beforeunload', ['$event'])], MemberEditComponent.prototype, \"unloadNotification\", null);\n\nMemberEditComponent = __decorate([Component({\n  selector: 'app-member-edit',\n  templateUrl: './member-edit.component.html',\n  styleUrls: ['./member-edit.component.css']\n})], MemberEditComponent);\nexport { MemberEditComponent };","map":null,"metadata":{},"sourceType":"module"}