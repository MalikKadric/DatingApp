{"ast":null,"code":"import { __decorate } from \"tslib\";\niimport;\n{\n  Component, OnInit, ViewChild, HostListener;\n}\nfrom;\n'@angular/core';\nimport { take } from 'rxjs/operators';\nimport { HostListener, ViewChild } from '@angular/core';\nlet MemberEditComponent = class MemberEditComponent {\n  /* @HostListener('window:beforeunload', ['$event']) unloadNotification($event: any) {\r\n     if (this.editForm.dirty) {\r\n       $event.returnValue = true;\r\n     }\r\n   }*/\n  constructor(accountService, memberService, toastr) {\n    this.accountService = accountService;\n    this.memberService = memberService;\n    this.toastr = toastr;\n    this.accountService.currentUser$.pipe(take(1)).subscribe(user => this.user = user);\n  }\n\n  ngOnInit() {\n    this.loadMember();\n  }\n\n  loadMember() {\n    this.memberService.getMember(this.user.username).subscribe(member => {\n      this.member = member;\n    });\n  }\n\n  updateMember() {\n    this.memberService.updateMember(this.member).subscribe(() => {\n      this.toastr.success('Profile updated successfully');\n      this.editForm.reset(this.member);\n    });\n  }\n\n};\n\n__decorate([ViewChild('editForm')], MemberEditComponent.prototype, \"editForm\", void 0);\n\nMemberEditComponent = __decorate([Component({\n  selector: 'app-member-edit',\n  templateUrl: './member-edit.component.html',\n  styleUrls: ['./member-edit.component.css']\n})], MemberEditComponent);\nexport { MemberEditComponent };","map":null,"metadata":{},"sourceType":"module"}